<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>自定义插件 | SBC</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="游戏插件分享平台">
    
    <link rel="preload" href="/sbc/assets/css/0.styles.0b1c6af4.css" as="style"><link rel="preload" href="/sbc/assets/js/app.2de695bc.js" as="script"><link rel="preload" href="/sbc/assets/js/2.834ef6ef.js" as="script"><link rel="preload" href="/sbc/assets/js/16.f1d1edc0.js" as="script"><link rel="prefetch" href="/sbc/assets/js/10.61d66a01.js"><link rel="prefetch" href="/sbc/assets/js/11.94f4068f.js"><link rel="prefetch" href="/sbc/assets/js/12.9d2e3acf.js"><link rel="prefetch" href="/sbc/assets/js/13.ad80512e.js"><link rel="prefetch" href="/sbc/assets/js/14.5f07ec04.js"><link rel="prefetch" href="/sbc/assets/js/15.8cb750bf.js"><link rel="prefetch" href="/sbc/assets/js/17.d7c03fa5.js"><link rel="prefetch" href="/sbc/assets/js/18.ce3e4187.js"><link rel="prefetch" href="/sbc/assets/js/19.1474bc85.js"><link rel="prefetch" href="/sbc/assets/js/20.22c96411.js"><link rel="prefetch" href="/sbc/assets/js/3.ec08ec80.js"><link rel="prefetch" href="/sbc/assets/js/4.0f047202.js"><link rel="prefetch" href="/sbc/assets/js/5.e240562e.js"><link rel="prefetch" href="/sbc/assets/js/6.08fc1348.js"><link rel="prefetch" href="/sbc/assets/js/7.c717cc3e.js"><link rel="prefetch" href="/sbc/assets/js/8.ab265eb2.js"><link rel="prefetch" href="/sbc/assets/js/9.906e9fd4.js">
    <link rel="stylesheet" href="/sbc/assets/css/0.styles.0b1c6af4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/sbc/zh/" class="home-link router-link-active"><!----> <span class="site-name">SBC</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/sbc/zh/desc/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简介
</a></div><div class="nav-item"><a href="/sbc/zh/useage/" class="nav-link">
  使用
</a></div><div class="nav-item"><a href="/sbc/zh/plugin/" class="nav-link">
  插件
</a></div><div class="nav-item"><a href="/sbc/zh/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="选择语言" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/sbc/en/desc/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/sbc/zh/desc/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/sbc/zh/desc/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简介
</a></div><div class="nav-item"><a href="/sbc/zh/useage/" class="nav-link">
  使用
</a></div><div class="nav-item"><a href="/sbc/zh/plugin/" class="nav-link">
  插件
</a></div><div class="nav-item"><a href="/sbc/zh/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="选择语言" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/sbc/en/desc/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/sbc/zh/desc/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/sbc/zh/desc/" aria-current="page" class="active sidebar-link">自定义插件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/sbc/zh/desc/#自定义插件是什么" class="sidebar-link">自定义插件是什么</a></li><li class="sidebar-sub-header"><a href="/sbc/zh/desc/#实现" class="sidebar-link">实现</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="自定义插件"><a href="#自定义插件" class="header-anchor">#</a> 自定义插件</h1> <h2 id="自定义插件是什么"><a href="#自定义插件是什么" class="header-anchor">#</a> 自定义插件是什么</h2> <p>正如名字所说, 自定义插件允许开发者开发自己的插件, 提供给别人使用, 同理也可以使用别的开发者分享的插件.</p> <h2 id="实现"><a href="#实现" class="header-anchor">#</a> 实现</h2> <p>从整个系统上来说, 我们的自定义插件系统分为两大部分:</p> <ul><li>App 侧: 这里是真正的插件实现, 在自己的游戏应用中开发插件, 调用插件接口都是这一部分. 对外表现出来就是各种的插件.</li> <li>Installer 侧: 这里是辅助部分, 运行在 Mac/Windows 上, 主要作用就是下载, 更新插件, 并安装到应用工程中. 对外表现出来就是一个叫 <code>sbc</code> 的命令行工具.</li></ul> <h3 id="app-侧实现"><a href="#app-侧实现" class="header-anchor">#</a> App 侧实现</h3> <p>自定义插件的层级结构图应该是这样.</p> <img src="/sbc/assets/img/CustomPluginStruct.svg" alt="CustomPluginStruct"> <p>上图中, 除了 Game 部分, 其它均属于自定义插件部分.
我们又把自定义插件部分分成了两个插件, 其中一个是红色背景的基础插件 <code>Bridge</code> . 另一个是橙色背景实现具体功能插件 <code>Plugin</code>.</p> <p>开发者在 Game 中调用 <code>Plugin</code> 插件的 Cpp/Lua/JS 接口, 再通过 <code>Bridge</code> 插件 调用到 <code>Plugin</code> 的对应平台实现.</p> <p>关于图中的 <code>Plugin</code> 插件, 由图可知, 是由三个大部分组成的:</p> <ul><li>Cpp/Lua/JS 部分: 这里是直接面向开发者, 开发者基本也是通过这里接口调用到插件的功能. (从图中可知, 也可以不提供这一部分, 而让开发者直接通过 Bridge 去调用插件功能, 但是我们不推荐这样做)</li> <li>Android 部分: 插件在 Android 平台的实现, 如果是 SDK 的封装, 那么这里应该也包括对应 SDK</li> <li>iOS 部分: 插件在 iOS 平台的实现, 如果是 SDK 的封装, 那么这里应该也包括对应 SDK</li></ul> <p>关于图中的 <code>Bridge</code> 插件:</p> <p>这个插件就是启到一个联接的作用, 联接了 <code>Plugin</code> 插件中的 Cpp/Lua/JS 与 Android/iOS.
让 <code>Plugin</code> 中的平台实现部分可以只关心功能实现.</p> <h3 id="installer-侧实现"><a href="#installer-侧实现" class="header-anchor">#</a> Installer 侧实现</h3> <p>自定义插件的 Installer , 我们命名为 <code>sbc</code> . 使用这个命令行来安装更新插件.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021-02-18 03:11:36</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/sbc/assets/js/app.2de695bc.js" defer></script><script src="/sbc/assets/js/2.834ef6ef.js" defer></script><script src="/sbc/assets/js/16.f1d1edc0.js" defer></script>
  </body>
</html>
